

# DWRag

## RAG คืออะไร?
Retrieval-Augmented Generation (RAG) คือกรอบการทำงานของ AI ที่ผสานการค้นคืนข้อมูล (retrieval) เข้ากับโมเดลสร้างข้อความ (generative model) โดยจะดึงข้อมูลหรือเอกสารที่เกี่ยวข้องจากฐานความรู้มาใช้ประกอบการสร้างคำตอบ ทำให้ได้ผลลัพธ์ที่แม่นยำและสอดคล้องกับบริบทมากขึ้น RAG มักถูกใช้เพื่อเพิ่มศักยภาพของโมเดลภาษาให้ตอบสนองโดยอ้างอิงข้อมูลจากแหล่งข้อมูลภายนอก

## MCP คืออะไร?
Model Context Protocol (MCP) คือโปรโตคอลหรือกรอบการทำงานที่ออกแบบมาเพื่อมาตรฐานการส่งข้อมูลและบริบทให้กับโมเดล AI ช่วยจัดโครงสร้างการไหลของข้อมูลระหว่างแต่ละส่วนประกอบในระบบ AI เพื่อให้โมเดลได้รับบริบทที่จำเป็นสำหรับการทำนายหรือให้คำตอบที่ถูกต้อง

## LangChain คืออะไร?
LangChain คือเฟรมเวิร์กโอเพ่นซอร์สสำหรับพัฒนาแอปพลิเคชันที่ขับเคลื่อนด้วยโมเดลภาษา (Language Model) โดยมีเครื่องมือและฟังก์ชันสำหรับเชื่อมต่อการเรียกใช้งานโมเดลภาษา การเชื่อมต่อกับแหล่งข้อมูลภายนอก และการสร้างเวิร์กโฟลว์ที่ซับซ้อน เช่น การถามตอบข้อมูล การสรุปเนื้อหา ฯลฯ

## ขั้นตอนการทำ RAG ใน Django ด้วย PostgreSQL และ pgvector
1. **สร้างโปรเจกต์ Django**: เริ่มต้นโปรเจกต์ Django และตั้งค่าพื้นฐานที่จำเป็น
2. **ติดตั้ง PostgreSQL และ pgvector**: ติดตั้ง PostgreSQL และเพิ่ม extension `pgvector` เพื่อรองรับการจัดการเวกเตอร์
3. **ตั้งค่าฐานข้อมูล**: แก้ไข settings ของ Django ให้ใช้ PostgreSQL เป็นฐานข้อมูลหลัก
4. **ติดตั้งไลบรารีที่จำเป็น**: ติดตั้งไลบรารี เช่น `psycopg2`, `pgvector` และไลบรารี AI/ML ที่ต้องใช้
5. **สร้าง Models**: กำหนด Django models สำหรับเก็บเอกสารและเวกเตอร์ embedding
6. **สร้าง Embeddings**: ใช้โมเดลภาษาเพื่อสร้างเวกเตอร์ embedding ของเอกสารและบันทึกลงฐานข้อมูล

# code 

่่่๋๋๋from django.db import models
from pgvector.django import VectorField

class Document(models.Model):
    file = models.FileField(upload_to='documents/')
    embedding = VectorField(dimensions=1536) # ควรตรงกับมิติของเวกเตอร์จากโมเดลของคุณ
  


7. **พัฒนา Logic การค้นคืน**: ใช้ pgvector ในการค้นหา similarity ของ embedding เพื่อดึงเอกสารที่เกี่ยวข้อง
8. **เชื่อมต่อกับ Generative Model**: ส่งเอกสารที่ค้นคืนได้ไปยังโมเดลสร้างข้อความ (เช่น ผ่าน LangChain) เพื่อสร้างคำตอบ
9. **สร้าง API/Frontend**: เปิดให้ใช้งาน RAG workflow ผ่าน Django views, REST API หรือ frontend ตามต้องการ
10. **ทดสอบและนำไปใช้งาน**: ทดสอบ pipeline ทั้งหมดและนำระบบขึ้นใช้งานจริง
